<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Le Salon de Lumi√®re - Sistema de Reservas y Gesti√≥n</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="public/bootstrap/css/bootstrap.min.css">

    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="public/css/style.css">

    <!-- SweetAlert2 CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">

    <script src="public/bootstrap/js/bootstrap.bundle.min.js"></script>

    <style>
        /* Estilos para modo oscuro en la secci√≥n de mesas */
        .dark-mode .mesas-section {
            background: linear-gradient(135deg, #1a1a1a 0%, #0d0d0d 100%) !important;
        }

        .dark-mode .mesas-title {
            color: #d4af37 !important;
        }

        .dark-mode .mesas-subtitle {
            color: #c9b896 !important;
        }

        .dark-mode .stat-card-disponible {
            background: linear-gradient(135deg, #1e5128 0%, #2d6a3e 100%) !important;
        }

        .dark-mode .stat-card-ocupada {
            background: linear-gradient(135deg, #7a1e1e 0%, #9a2828 100%) !important;
        }

        .dark-mode .stat-card-reservada {
            background: linear-gradient(135deg, #8b6914 0%, #b8941f 100%) !important;
        }

        .dark-mode .stat-card-ocupacion {
            background: linear-gradient(135deg, #4a2c7a 0%, #5e3890 100%) !important;
        }

        .dark-mode .mesas-leyenda {
            background: rgba(26, 26, 26, 0.98) !important;
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.2) !important;
        }

        .dark-mode .leyenda-text {
            color: #d4af37 !important;
        }

        .dark-mode .mesas-zona-card {
            background: rgba(20, 20, 20, 0.98) !important;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.7) !important;
            border: 1px solid rgba(212, 175, 55, 0.3) !important;
        }

        .dark-mode .zona-card h3 {
            color: #d4af37 !important;
        }

        .dark-mode .zona-card .text-muted {
            color: #c9b896 !important;
        }

        /* Estilos para la secci√≥n de selecci√≥n de usuario en modo oscuro */
        .dark-mode .selection-container {
            background: linear-gradient(135deg, #1a1a1a 0%, #0d0d0d 100%) !important;
        }

        .dark-mode .section-title {
            color: #d4af37 !important;
        }

        .dark-mode .user-card {
            background: rgba(20, 20, 20, 0.98) !important;
            border: 1px solid rgba(212, 175, 55, 0.3) !important;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.7) !important;
        }

        .dark-mode .user-card:hover {
            border-color: rgba(212, 175, 55, 0.6) !important;
            box-shadow: 0 15px 40px rgba(212, 175, 55, 0.2) !important;
        }

        .dark-mode .user-title {
            color: #d4af37 !important;
        }

        .dark-mode .user-description {
            color: #c9b896 !important;
        }

        .dark-mode .user-card .text-muted {
            color: #a89968 !important;
        }

        /* Dark Mode para Secci√≥n de Espacios */
        .dark-mode .espacios-section {
            background: linear-gradient(135deg, #1a1a1a 0%, #0d0d0d 100%) !important;
        }

        .dark-mode .espacios-title {
            color: var(--gold-color) !important;
        }

        .dark-mode .espacios-subtitle {
            color: rgba(255, 255, 255, 0.7) !important;
        }

        .dark-mode .espacio-title {
            color: var(--gold-color) !important;
        }

        .dark-mode .espacio-description {
            color: rgba(255, 255, 255, 0.85) !important;
        }

        .dark-mode .espacio-info {
            background: rgba(212, 175, 55, 0.15) !important;
            border-left-color: var(--gold-color) !important;
        }

        .dark-mode .espacio-info small {
            color: var(--gold-color) !important;
        }

        .dark-mode .espacio-image img {
            box-shadow: 0 10px 30px rgba(212, 175, 55, 0.2) !important;
        }

        /* Dark Mode para Galer√≠a de Mesas */
        .dark-mode .mesa-card {
            background: rgba(20, 20, 20, 0.98) !important;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.7) !important;
        }

        .dark-mode .mesa-card:hover {
            box-shadow: 0 15px 40px rgba(212, 175, 55, 0.3) !important;
        }

        .dark-mode .mesas-leyenda {
            background: rgba(20, 20, 20, 0.9) !important;
            border-color: rgba(212, 175, 55, 0.3) !important;
        }

        .dark-mode .leyenda-text {
            color: rgba(255, 255, 255, 0.85) !important;
        }

        /* Dark Mode para Secci√≥n de Men√∫ */
        .dark-mode .menu-section {
            background: linear-gradient(135deg, #1a1a1a 0%, #0d0d0d 100%) !important;
        }

        .dark-mode .menu-title {
            color: var(--gold-color) !important;
        }

        .dark-mode .menu-subtitle {
            color: rgba(255, 255, 255, 0.7) !important;
        }

        .dark-mode .categoria-circle {
            background: rgba(20, 20, 20, 0.98) !important;
            border-color: rgba(212, 175, 55, 0.3) !important;
        }

        .dark-mode .categoria-circle:hover {
            background: rgba(30, 30, 30, 0.98) !important;
            border-color: var(--gold-color) !important;
            box-shadow: 0 15px 40px rgba(212, 175, 55, 0.4) !important;
        }

        .dark-mode .categoria-nombre {
            color: var(--gold-color) !important;
        }

        .dark-mode .categoria-count {
            color: rgba(255, 255, 255, 0.7) !important;
        }
    </style>
</head>

<body>
    <!-- Elementos flotantes de fondo -->
    <div class="floating-elements">
        <div class="floating-element" style="left: 10%; animation-delay: 0s;">üçΩÔ∏è</div>
        <div class="floating-element" style="left: 20%; animation-delay: 2s;">ü•Ç</div>
        <div class="floating-element" style="left: 30%; animation-delay: 4s;">üç∑</div>
        <div class="floating-element" style="left: 40%; animation-delay: 6s;">üç¥</div>
        <div class="floating-element" style="left: 50%; animation-delay: 8s;">üë®‚ÄçÔøΩ</div>
        <div class="floating-element" style="left: 60%; animation-delay: 1s;">ü•ò</div>
        <div class="floating-element" style="left: 70%; animation-delay: 3s;">üåü</div>
        <div class="floating-element" style="left: 80%; animation-delay: 5s;">ÔøΩ</div>
        <div class="floating-element" style="left: 90%; animation-delay: 7s;">üéÇ</div>
        <div class="floating-element" style="left: 15%; animation-delay: 9s;">ü•ñ</div>
        <div class="floating-element" style="left: 45%; animation-delay: 11s;">‚òï</div>
        <div class="floating-element" style="left: 75%; animation-delay: 13s;">üßÄ</div>
    </div>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="bi bi-cup-hot-fill me-2"></i>
                Lumiere
            </a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="#inicio">
                            <i class="bi bi-house"></i> Inicio
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#reservas">
                            <i class="bi bi-calendar-check"></i> Reservas
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#mesas">
                            <i class="bi bi-diagram-3"></i> Mesas
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#menu">
                            <i class="bi bi-book"></i> Men√∫
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contacto">
                            <i class="bi bi-telephone"></i> Contacto
                        </a>
                    </li>
                </ul>

                <!-- Botones de la derecha -->
                <div class="d-flex align-items-center">
                    <!-- Bot√≥n Modo Oscuro -->
                    <button id="darkModeBtn" class="btn btn-outline-light btn-sm me-3" title="Cambiar modo">
                        <i class="bi bi-moon-fill" id="darkModeIcon"></i>
                        <span id="darkModeText" class="d-none d-md-inline ms-1">Modo Oscuro</span>
                    </button>

                    <!-- Bot√≥n de Login Administrador -->
                    <button class="btn btn-sm border-0 shadow-sm" id="btn-actualizar-admin"
                        style="background: linear-gradient(135deg, #d4af37 0%, #b8941f 100%); color: #2d1b12; font-weight: 600; transition: all 0.3s ease; text-shadow: 0 1px 2px rgba(0,0,0,0.1);"
                        onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 16px rgba(212, 175, 55, 0.5)'; this.style.background='linear-gradient(135deg, #ffd700 0%, #d4af37 100%)'"
                        onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(212, 175, 55, 0.3)'; this.style.background='linear-gradient(135deg, #d4af37 0%, #b8941f 100%)'">
                        <i class="bi bi-shield-lock-fill me-1"></i>
                        <span class="d-none d-md-inline">ADMINISTRADOR</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <br>

    <!-- Header Principal -->
    <header class="main-header" id="inicio">
        <div class="container">
            <div class="logo-container fade-in-up">
                <div class="logo-icon">üçΩÔ∏è</div>
                <h1 class="restaurant-name">Le Salon de Lumi√®re</h1>
                <p class="restaurant-subtitle">
                    <i class="bi bi-gem"></i>
                    Sistema de Reservas de Mesas Digital
                </p>
                <div class="mt-4">
                    <span class="badge bg-light text-dark me-2 glass-effect">
                        <i class="bi bi-shield-check"></i> Seguro
                    </span>
                    <span class="badge bg-light text-dark me-2 glass-effect">
                        <i class="bi bi-clock"></i> 24/7
                    </span>
                    <span class="badge bg-light text-dark me-2 glass-effect">
                        <i class="bi bi-award"></i> Confiable
                    </span>
                    <span class="badge bg-light text-dark glass-effect">
                        <i class="bi bi-star-fill"></i> Premium
                    </span>
                </div>
            </div>
        </div>
    </header>

    <!-- Secci√≥n de Visualizaci√≥n de Mesas -->
    <section class="mesas-section py-5" id="mesas"
        style="background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%); transition: background 0.3s ease;">
        <div class="container">
            <div class="text-center mb-5 fade-in-up">
                <h2 class="section-title mesas-title"
                    style="color: var(--primary-color); font-size: 2.5rem; font-weight: 700;">
                    <i class="bi bi-diagram-3-fill me-2" style="color: var(--gold-color);"></i>
                    Nuestras Mesas Disponibles
                </h2>
                <p class="text-muted mesas-subtitle" style="font-size: 1.1rem;">
                    Selecciona la mesa perfecta para tu experiencia gastron√≥mica
                </p>
            </div>

            <!-- Leyenda Minimalista -->
            <div class="text-center mb-5">
                <div class="mesas-leyenda d-inline-flex gap-4 flex-wrap justify-content-center"
                    style="background: rgba(255,255,255,0.7); backdrop-filter: blur(10px); padding: 15px 30px; border-radius: 50px; border: 1px solid rgba(212, 175, 55, 0.2);">
                    <div class="d-flex align-items-center">
                        <span
                            style="width: 12px; height: 12px; background: var(--gold-color); border-radius: 50%; display: inline-block; margin-right: 8px;"></span>
                        <span class="leyenda-text"
                            style="font-weight: 500; color: #666; font-size: 0.9rem;">Disponible</span>
                    </div>
                    <div class="d-flex align-items-center">
                        <span
                            style="width: 12px; height: 12px; background: #999; border-radius: 50%; display: inline-block; margin-right: 8px;"></span>
                        <span class="leyenda-text" style="font-weight: 500; color: #666; font-size: 0.9rem;">No
                            Disponible</span>
                    </div>
                </div>
            </div>

            <!-- Grid de Mesas con Im√°genes Elegantes -->
            <div class="row g-4" id="mesasGallery">
                <!-- Las mesas se cargar√°n din√°micamente aqu√≠ -->
            </div>

            <!-- Bot√≥n para actualizar (moved here temporarily) -->
            <div class="text-center mt-5" style="display:none;">
                <div class="col-md-3 col-6 fade-in-up delay-1">
                    <div class="stat-card stat-card-disponible"
                        style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%); border-radius: 15px; padding: 25px; color: white; text-align: center; box-shadow: 0 8px 20px rgba(40, 167, 69, 0.3); transition: all 0.3s ease;"
                        onmouseover="this.style.transform='translateY(-5px)'"
                        onmouseout="this.style.transform='translateY(0)'">
                        <div style="font-size: 2.5rem; margin-bottom: 10px;">
                            <i class="bi bi-check-circle-fill"></i>
                        </div>
                        <h3 id="statDisponibles" style="font-size: 2rem; font-weight: 700; margin: 0;">-</h3>
                        <p style="margin: 0; opacity: 0.9;">Mesas Disponibles</p>
                    </div>
                </div>
                <div class="col-md-3 col-6 fade-in-up delay-2">
                    <div class="stat-card stat-card-ocupada"
                        style="background: linear-gradient(135deg, #dc3545 0%, #e74c3c 100%); border-radius: 15px; padding: 25px; color: white; text-align: center; box-shadow: 0 8px 20px rgba(220, 53, 69, 0.3); transition: all 0.3s ease;"
                        onmouseover="this.style.transform='translateY(-5px)'"
                        onmouseout="this.style.transform='translateY(0)'">
                        <div style="font-size: 2.5rem; margin-bottom: 10px;">
                            <i class="bi bi-x-circle-fill"></i>
                        </div>
                        <h3 id="statOcupadas" style="font-size: 2rem; font-weight: 700; margin: 0;">-</h3>
                        <p style="margin: 0; opacity: 0.9;">Mesas Ocupadas</p>
                    </div>
                </div>
                <div class="col-md-3 col-6 fade-in-up delay-3">
                    <div class="stat-card stat-card-reservada"
                        style="background: linear-gradient(135deg, #ffc107 0%, #ff9800 100%); border-radius: 15px; padding: 25px; color: white; text-align: center; box-shadow: 0 8px 20px rgba(255, 193, 7, 0.3); transition: all 0.3s ease;"
                        onmouseover="this.style.transform='translateY(-5px)'"
                        onmouseout="this.style.transform='translateY(0)'">
                        <div style="font-size: 2.5rem; margin-bottom: 10px;">
                            <i class="bi bi-calendar-check-fill"></i>
                        </div>
                        <h3 id="statReservadas" style="font-size: 2rem; font-weight: 700; margin: 0;">-</h3>
                        <p style="margin: 0; opacity: 0.9;">Mesas Reservadas</p>
                    </div>
                </div>
                <div class="col-md-3 col-6 fade-in-up delay-4">
                    <div class="stat-card stat-card-ocupacion"
                        style="background: linear-gradient(135deg, #6f42c1 0%, #5a32a3 100%); border-radius: 15px; padding: 25px; color: white; text-align: center; box-shadow: 0 8px 20px rgba(111, 66, 193, 0.3); transition: all 0.3s ease;"
                        onmouseover="this.style.transform='translateY(-5px)'"
                        onmouseout="this.style.transform='translateY(0)'">
                        <div style="font-size: 2.5rem; margin-bottom: 10px;">
                            <i class="bi bi-graph-up"></i>
                        </div>
                        <h3 id="statOcupacion" style="font-size: 2rem; font-weight: 700; margin: 0;">-%</h3>
                        <p style="margin: 0; opacity: 0.9;">Ocupaci√≥n</p>
                    </div>
                </div>
            </div>



            <!-- Las mesas se cargar√°n din√°micamente aqu√≠ (hidden old stats section) -->
            <div style="display:none;">

                <!-- Layout de Zonas del Restaurante -->
                <div class="row g-4" id="zonasRestaurante">
                    <!-- Zona Interior/Sal√≥n Principal -->
                    <div class="col-lg-6 fade-in-up delay-5">
                        <div class="zona-card mesas-zona-card"
                            style="background: white; border-radius: 20px; padding: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); position: relative; overflow: hidden; transition: all 0.3s ease;">
                            <div
                                style="position: absolute; top: -50px; right: -50px; width: 150px; height: 150px; background: linear-gradient(135deg, rgba(212, 175, 55, 0.1) 0%, rgba(212, 175, 55, 0.05) 100%); border-radius: 50%;">
                            </div>
                            <div class="zona-header mb-4" style="position: relative; z-index: 1;">
                                <div class="d-flex align-items-center justify-content-between">
                                    <div>
                                        <h3
                                            style="color: var(--primary-color); font-weight: 700; margin: 0; font-size: 1.5rem;">
                                            <span style="font-size: 2rem; margin-right: 10px;">üèõÔ∏è</span>
                                            Sal√≥n Principal
                                        </h3>
                                        <p class="text-muted mb-0" style="font-size: 0.9rem;">Ambiente elegante y
                                            acogedor
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="mesas-grid" data-zona="interior"
                                style="display: flex; flex-wrap: wrap; gap: 15px; min-height: 150px; justify-content: center;">
                                <div class="col-12 text-center py-4">
                                    <div class="spinner-border" style="color: var(--gold-color);" role="status"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Zona Terraza -->
                    <div class="col-lg-6 fade-in-up delay-6">
                        <div class="zona-card mesas-zona-card"
                            style="background: white; border-radius: 20px; padding: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); position: relative; overflow: hidden; transition: all 0.3s ease;">
                            <div
                                style="position: absolute; top: -50px; right: -50px; width: 150px; height: 150px; background: linear-gradient(135deg, rgba(40, 167, 69, 0.1) 0%, rgba(40, 167, 69, 0.05) 100%); border-radius: 50%;">
                            </div>
                            <div class="zona-header mb-4" style="position: relative; z-index: 1;">
                                <div class="d-flex align-items-center justify-content-between">
                                    <div>
                                        <h3
                                            style="color: var(--primary-color); font-weight: 700; margin: 0; font-size: 1.5rem;">
                                            <span style="font-size: 2rem; margin-right: 10px;">üåø</span>
                                            Terraza
                                        </h3>
                                        <p class="text-muted mb-0" style="font-size: 0.9rem;">Vista panor√°mica al aire
                                            libre
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="mesas-grid" data-zona="terraza"
                                style="display: flex; flex-wrap: wrap; gap: 15px; min-height: 150px; justify-content: center;">
                                <div class="col-12 text-center py-4">
                                    <div class="spinner-border" style="color: var(--gold-color);" role="status"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Zona VIP -->
                    <div class="col-lg-6 fade-in-up delay-7">
                        <div class="zona-card mesas-zona-card"
                            style="background: white; border-radius: 20px; padding: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); position: relative; overflow: hidden; transition: all 0.3s ease;">
                            <div
                                style="position: absolute; top: -50px; right: -50px; width: 150px; height: 150px; background: linear-gradient(135deg, rgba(255, 193, 7, 0.1) 0%, rgba(255, 193, 7, 0.05) 100%); border-radius: 50%;">
                            </div>
                            <div class="zona-header mb-4" style="position: relative; z-index: 1;">
                                <div class="d-flex align-items-center justify-content-between">
                                    <div>
                                        <h3
                                            style="color: var(--primary-color); font-weight: 700; margin: 0; font-size: 1.5rem;">
                                            <span style="font-size: 2rem; margin-right: 10px;">üëë</span>
                                            √Årea VIP
                                        </h3>
                                        <p class="text-muted mb-0" style="font-size: 0.9rem;">Exclusividad y privacidad
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="mesas-grid" data-zona="vip"
                                style="display: flex; flex-wrap: wrap; gap: 15px; min-height: 150px; justify-content: center;">
                                <div class="col-12 text-center py-4">
                                    <div class="spinner-border" style="color: var(--gold-color);" role="status"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Zona Bar -->
                    <div class="col-lg-6 fade-in-up delay-8">
                        <div class="zona-card mesas-zona-card"
                            style="background: white; border-radius: 20px; padding: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); position: relative; overflow: hidden; transition: all 0.3s ease;">
                            <div
                                style="position: absolute; top: -50px; right: -50px; width: 150px; height: 150px; background: linear-gradient(135deg, rgba(111, 66, 193, 0.1) 0%, rgba(111, 66, 193, 0.05) 100%); border-radius: 50%;">
                            </div>
                            <div class="zona-header mb-4" style="position: relative; z-index: 1;">
                                <div class="d-flex align-items-center justify-content-between">
                                    <div>
                                        <h3
                                            style="color: var(--primary-color); font-weight: 700; margin: 0; font-size: 1.5rem;">
                                            <span style="font-size: 2rem; margin-right: 10px;">üç∏</span>
                                            Bar & Lounge
                                        </h3>
                                        <p class="text-muted mb-0" style="font-size: 0.9rem;">Ambiente relajado y
                                            sofisticado</p>
                                    </div>
                                </div>
                            </div>
                            <div class="mesas-grid" data-zona="bar"
                                style="display: flex; flex-wrap: wrap; gap: 15px; min-height: 150px; justify-content: center;">
                                <div class="col-12 text-center py-4">
                                    <div class="spinner-border" style="color: var(--gold-color);" role="status"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End hidden section -->

            <!-- Bot√≥n para actualizar -->
            <div class="text-center mt-5">
                <button id="btnActualizarMesas" class="btn btn-lg px-5"
                    style="background: var(--gradient-gold); color: var(--primary-color); border: none; border-radius: 50px; font-weight: 600; box-shadow: 0 8px 20px rgba(212, 175, 55, 0.4); transition: all 0.3s ease;"
                    onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                    <i class="bi bi-arrow-clockwise me-2"></i>
                    Actualizar Disponibilidad
                </button>
            </div>
        </div>
    </section>

    <!-- Secci√≥n de Espacios del Restaurante -->
    <section class="espacios-section py-5"
        style="background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%); transition: background 0.3s ease;">
        <div class="container">
            <div class="text-center mb-5 fade-in-up">
                <h2 class="section-title espacios-title"
                    style="color: var(--primary-color); font-size: 2.5rem; font-weight: 700;">
                    <i class="bi bi-building me-2" style="color: var(--gold-color);"></i>
                    Nuestros Espacios
                </h2>
                <p class="text-muted espacios-subtitle" style="font-size: 1.1rem;">
                    Descubre los ambientes √∫nicos que Le Salon de Lumi√®re tiene para ti
                </p>
            </div>

            <!-- Terraza -->
            <div class="row mb-5 align-items-center fade-in-up">
                <div class="col-lg-6 mb-4 mb-lg-0">
                    <div class="espacio-image"
                        style="border-radius: 20px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.15);">
                        <img src="https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800&q=80" alt="Terraza"
                            style="width: 100%; height: 400px; object-fit: cover; transition: transform 0.3s ease;"
                            onmouseover="this.style.transform='scale(1.05)'"
                            onmouseout="this.style.transform='scale(1)'">
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="espacio-content">
                        <h3 class="espacio-title"
                            style="color: var(--primary-color); font-size: 2rem; font-weight: 700; margin-bottom: 20px;">
                            Terraza
                            <div style="width: 80px; height: 3px; background: var(--gold-color); margin-top: 10px;">
                            </div>
                        </h3>
                        <p class="espacio-description"
                            style="color: #666; font-size: 1.1rem; line-height: 1.8; margin-bottom: 20px;">
                            La terraza panor√°mica del tercer piso ofrece rom√°nticas vistas del hist√≥rico paisaje urbano,
                            el escenario perfecto para disfrutar de un t√©, caf√©, c√≥cteles o un vino a√±ejo. Al ser uno de
                            los restaurantes m√°s singulares, permite admirar iglesias emblem√°ticas y la ciudad.
                            Y si la suerte te acompa√±a, ¬°incluso podr√≠as vislumbrar el lejano volc√°n nevado al noreste!
                        </p>
                        <div class="espacio-info"
                            style="background: rgba(212, 175, 55, 0.1); padding: 15px; border-radius: 10px; border-left: 4px solid var(--gold-color);">
                            <small style="color: var(--primary-color); font-weight: 600;">
                                <i class="bi bi-geo-alt-fill text-warning"></i> Vista panor√°mica al aire libre
                            </small>
                        </div>
                    </div>
                </div>
            </div>

            <!-- El Jard√≠n -->
            <div class="row mb-5 align-items-center fade-in-up flex-lg-row-reverse">
                <div class="col-lg-6 mb-4 mb-lg-0">
                    <div class="espacio-image"
                        style="border-radius: 20px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.15);">
                        <img src="https://images.unsplash.com/photo-1552566626-52f8b828add9?w=800&q=80" alt="El Jard√≠n"
                            style="width: 100%; height: 400px; object-fit: cover; transition: transform 0.3s ease;"
                            onmouseover="this.style.transform='scale(1.05)'"
                            onmouseout="this.style.transform='scale(1)'">
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="espacio-content">
                        <h3 class="espacio-title"
                            style="color: var(--primary-color); font-size: 2rem; font-weight: 700; margin-bottom: 20px;">
                            El Jard√≠n
                            <div style="width: 80px; height: 3px; background: var(--gold-color); margin-top: 10px;">
                            </div>
                        </h3>
                        <p class="espacio-description"
                            style="color: #666; font-size: 1.1rem; line-height: 1.8; margin-bottom: 20px;">
                            Esc√°pate del bullicio de la ciudad y encuentra paz y confort en nuestro jard√≠n amurallado,
                            un santuario de tranquilidad que nos distingue de otros restaurantes. Aqu√≠ podr√°s relajarte,
                            saborear una taza de caf√© o una cerveza bien fr√≠a y contemplar la vida. Sum√©rgete en la
                            serenidad del ambiente entre √°rboles, plantas y flores nativas mientras el suave sonido
                            de la fuente de piedra te reconforta.
                        </p>
                        <div class="espacio-info"
                            style="background: rgba(212, 175, 55, 0.1); padding: 15px; border-radius: 10px; border-left: 4px solid var(--gold-color);">
                            <small style="color: var(--primary-color); font-weight: 600;">
                                <i class="bi bi-tree-fill text-success"></i> Santuario de tranquilidad
                            </small>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sal√≥n VIP -->
            <div class="row mb-5 align-items-center fade-in-up">
                <div class="col-lg-6 mb-4 mb-lg-0">
                    <div class="espacio-image"
                        style="border-radius: 20px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.15);">
                        <img src="https://images.unsplash.com/photo-1550966871-3ed3cdb5ed0c?w=800&q=80" alt="Sal√≥n VIP"
                            style="width: 100%; height: 400px; object-fit: cover; transition: transform 0.3s ease;"
                            onmouseover="this.style.transform='scale(1.05)'"
                            onmouseout="this.style.transform='scale(1)'">
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="espacio-content">
                        <h3 class="espacio-title"
                            style="color: var(--primary-color); font-size: 2rem; font-weight: 700; margin-bottom: 20px;">
                            Sal√≥n VIP
                            <div style="width: 80px; height: 3px; background: var(--gold-color); margin-top: 10px;">
                            </div>
                        </h3>
                        <p class="espacio-description"
                            style="color: #666; font-size: 1.1rem; line-height: 1.8; margin-bottom: 20px;">
                            El Sal√≥n VIP, que antiguamente serv√≠a como sal√≥n de baile para la familia, ha sido renovado
                            para convertirse en el espacio perfecto para cenas √≠ntimas o peque√±as celebraciones,
                            convirti√©ndose en un elemento destacado de uno de los mejores restaurantes. Ya sea una
                            recepci√≥n de boda memorable, una conferencia educativa o una reuni√≥n productiva, este
                            exquisito espacio tiene capacidad para hasta 25 personas.
                        </p>
                        <div class="espacio-info"
                            style="background: rgba(212, 175, 55, 0.1); padding: 15px; border-radius: 10px; border-left: 4px solid var(--gold-color);">
                            <small style="color: var(--primary-color); font-weight: 600;">
                                <i class="bi bi-star-fill text-warning"></i> Exclusividad y privacidad - Capacidad: 25
                                personas
                            </small>
                        </div>
                    </div>
                </div>
            </div>

            <!-- El Bar -->
            <div class="row mb-5 align-items-center fade-in-up flex-lg-row-reverse">
                <div class="col-lg-6 mb-4 mb-lg-0">
                    <div class="espacio-image"
                        style="border-radius: 20px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.15);">
                        <img src="https://images.unsplash.com/photo-1514933651103-005eec06c04b?w=800&q=80" alt="El Bar"
                            style="width: 100%; height: 400px; object-fit: cover; transition: transform 0.3s ease;"
                            onmouseover="this.style.transform='scale(1.05)'"
                            onmouseout="this.style.transform='scale(1)'">
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="espacio-content">
                        <h3 class="espacio-title"
                            style="color: var(--primary-color); font-size: 2rem; font-weight: 700; margin-bottom: 20px;">
                            El Bar
                            <div style="width: 80px; height: 3px; background: var(--gold-color); margin-top: 10px;">
                            </div>
                        </h3>
                        <p class="espacio-description"
                            style="color: #666; font-size: 1.1rem; line-height: 1.8; margin-bottom: 20px;">
                            Un refugio para viajeros sofisticados, que ofrece relajaci√≥n entre sillas de cuero,
                            c√≥modas banquetas, paneles de madera y cautivadoras pinturas al √≥leo. Como parte de uno
                            de los mejores restaurantes, podr√°s descubrir rincones apartados y luminosos asientos
                            junto a las ventanas o relajarte en la noble barra de madera saboreando un Old Fashioned
                            o nuestros c√≥cteles especiales, elaborados con maestr√≠a por nuestro personal.
                        </p>
                        <div class="espacio-info"
                            style="background: rgba(212, 175, 55, 0.1); padding: 15px; border-radius: 10px; border-left: 4px solid var(--gold-color);">
                            <small style="color: var(--primary-color); font-weight: 600;">
                                <i class="bi bi-cup-straw text-info"></i> Ambiente sofisticado y relajado
                            </small>
                        </div>
                        <div class="mt-3">
                            <button class="btn me-2 mb-2" id="btnBebidasMenu"
                                style="background: white; color: var(--primary-color); border: 2px solid var(--gold-color); border-radius: 25px; padding: 10px 25px; font-weight: 600; transition: all 0.3s ease;"
                                onmouseover="this.style.background='var(--gold-color)'; this.style.color='white'"
                                onmouseout="this.style.background='white'; this.style.color='var(--primary-color)'">
                                <i class="bi bi-cup-hot"></i> Men√∫ de C√≥cteles
                            </button>
                            <button class="btn mb-2" id="btnVinosMenu"
                                style="background: white; color: var(--primary-color); border: 2px solid var(--gold-color); border-radius: 25px; padding: 10px 25px; font-weight: 600; transition: all 0.3s ease;"
                                onmouseover="this.style.background='var(--gold-color)'; this.style.color='white'"
                                onmouseout="this.style.background='white'; this.style.color='var(--primary-color)'">
                                <i class="bi bi-file-earmark-text"></i> Carta de Vinos
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Secci√≥n de Men√∫ -->
    <section class="menu-section py-5" id="menu"
        style="background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%); transition: background 0.3s ease;">
        <div class="container">
            <div class="text-center mb-5 fade-in-up">
                <h2 class="section-title menu-title"
                    style="color: var(--primary-color); font-size: 2.5rem; font-weight: 700;">
                    <i class="bi bi-book me-2" style="color: var(--gold-color);"></i>
                    Nuestro Men√∫
                </h2>
                <p class="text-muted menu-subtitle" style="font-size: 1.1rem;">
                    Descubre nuestra exquisita selecci√≥n gastron√≥mica
                </p>
            </div>

            <!-- Categor√≠as en c√≠rculos -->
            <div class="row g-4 justify-content-center" id="menuCategorias">
                <div class="col-12 text-center py-5">
                    <div class="spinner-border" style="color: var(--gold-color); width: 3rem; height: 3rem;"
                        role="status">
                        <span class="visually-hidden">Cargando men√∫...</span>
                    </div>
                    <p class="text-muted mt-3">Cargando categor√≠as del men√∫...</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Secci√≥n de Selecci√≥n de Usuario -->
    <section class="selection-container" id="reservas">
        <div class="container">
            <h2 class="section-title fade-in-up">
                <i class="bi bi-calendar-heart"></i>
                ¬øC√≥mo deseas acceder?
            </h2>

            <div class="user-cards">
                <!-- Tarjeta Cliente/Usuario -->
                <div class="user-card fade-in-up delay-1">
                    <div class="user-icon">
                        <i class="bi bi-person-heart"></i>
                    </div>
                    <h3 class="user-title">
                        <i class="bi bi-calendar-check"></i>
                        Soy Cliente
                    </h3>
                    <p class="user-description">
                        Reserva tu mesa, consulta nuestro men√∫ exclusivo,
                        realiza pre-pedidos y disfruta de una experiencia gastron√≥mica √∫nica.
                    </p>
                    <div class="mb-3">
                        <small class="text-muted">
                            <i class="bi bi-check-circle-fill text-success"></i> Reservar mesas disponibles<br>
                            <i class="bi bi-check-circle-fill text-success"></i> Ver men√∫ y precios<br>
                            <i class="bi bi-check-circle-fill text-success"></i> Realizar pre-pedidos<br>
                            <i class="bi bi-check-circle-fill text-success"></i> Historial de reservas
                        </small>
                    </div>
                    <button id="btn-cliente-login" class="btn-custom" type="button">
                        <i class="bi bi-calendar-plus"></i>
                        Hacer Reserva
                    </button>
                </div>

            </div>

            <!-- Modal Login Administrador -->
            <div class="modal fade" id="ModalProfesor" tabindex="-1">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header text-white" style="background: var(--gradient-gold) !important;">
                            <h5 class="modal-title">
                                <i class="bi bi-shield-lock-fill me-2"></i>
                                Acceso de Administrador
                            </h5>
                            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <form id="AdminForm">
                                <div class="mb-3">
                                    <label for="adminUsuarioModal" class="form-label">
                                        <i class="bi bi-person"></i> Usuario
                                    </label>
                                    <input type="text" class="form-control" id="adminUsuarioModal" required
                                        placeholder="Ingresa tu usuario">
                                </div>

                                <div class="mb-3">
                                    <label for="adminPasswordModal" class="form-label">
                                        <i class="bi bi-lock"></i> Contrase√±a
                                    </label>
                                    <div class="input-group">
                                        <input type="password" class="form-control" id="adminPasswordModal" required
                                            placeholder="Ingresa tu contrase√±a">
                                        <button class="btn btn-outline-secondary" type="button"
                                            onclick="togglePasswordAdmin()">
                                            <i class="bi bi-eye" id="toggleIconAdmin"></i>
                                        </button>
                                    </div>
                                </div>

                                <div id="loginError" class="alert alert-danger d-none" role="alert"></div>

                                <div class="d-grid gap-2">
                                    <button id="btn-admin-modal" class="btn btn-warning" type="button"
                                        style="background: var(--gradient-gold) !important; border: none; color: var(--primary-color); font-weight: 600;">
                                        <i class="bi bi-box-arrow-in-right"></i>
                                        Acceder al Panel de Control
                                    </button>
                                </div>
                            </form>

                            <hr>
                            <div class="text-center">
                                <small class="text-muted">
                                    <i class="bi bi-shield-check"></i>
                                    Panel de Control de Le Salon de Lumi√®re
                                </small>
                            </div>

                            <!-- Credenciales de prueba (solo para desarrollo) -->
                            <div class="mt-3 p-2 rounded-3"
                                style="background: rgba(13, 202, 240, 0.1); border: 1px solid rgba(13, 202, 240, 0.2);">
                                <small class="text-info">
                                    <i class="bi bi-info-circle me-1"></i>
                                    <strong>Credenciales de prueba:</strong> admin / password
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal Login Cliente -->
            <div class="modal fade" id="ModalCliente" tabindex="-1">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header text-white" style="background: var(--gradient-secondary) !important;">
                            <h5 class="modal-title">
                                <i class="bi bi-person-circle me-2"></i>
                                Acceso de Cliente
                            </h5>
                            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <!-- Tabs para Login/Registro -->
                            <ul class="nav nav-tabs mb-3" id="clienteTabs" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link active" id="login-tab" data-bs-toggle="tab"
                                        data-bs-target="#login-panel" type="button" role="tab">
                                        <i class="bi bi-box-arrow-in-right"></i> Iniciar Sesi√≥n
                                    </button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="registro-tab" data-bs-toggle="tab"
                                        data-bs-target="#registro-panel" type="button" role="tab">
                                        <i class="bi bi-person-plus"></i> Crear Cuenta
                                    </button>
                                </li>
                            </ul>

                            <div class="tab-content" id="clienteTabContent">
                                <!-- Panel de Login -->
                                <div class="tab-pane fade show active" id="login-panel" role="tabpanel">
                                    <form id="LoginClienteForm">
                                        <div class="mb-3">
                                            <label for="loginUsuario" class="form-label">
                                                <i class="bi bi-person"></i> Usuario
                                            </label>
                                            <input type="text" class="form-control" id="loginUsuario" required
                                                placeholder="Ingresa tu usuario">
                                        </div>

                                        <div class="mb-3">
                                            <label for="loginPassword" class="form-label">
                                                <i class="bi bi-lock"></i> Contrase√±a
                                            </label>
                                            <div class="input-group">
                                                <input type="password" class="form-control" id="loginPassword" required
                                                    placeholder="Ingresa tu contrase√±a">
                                                <button class="btn btn-outline-secondary" type="button"
                                                    onclick="togglePasswordCliente('login')">
                                                    <i class="bi bi-eye" id="toggleIconLogin"></i>
                                                </button>
                                            </div>
                                        </div>

                                        <div id="loginErrorCliente" class="alert alert-danger d-none" role="alert">
                                        </div>

                                        <div class="d-grid gap-2">
                                            <button id="btn-login-cliente" class="btn btn-primary" type="button">
                                                <i class="bi bi-box-arrow-in-right"></i>
                                                Iniciar Sesi√≥n
                                            </button>
                                        </div>
                                    </form>
                                </div>

                                <!-- Panel de Registro -->
                                <div class="tab-pane fade" id="registro-panel" role="tabpanel">
                                    <form id="RegistroClienteForm">
                                        <div class="row">
                                            <div class="col-md-6 mb-3">
                                                <label for="regNombre" class="form-label">
                                                    <i class="bi bi-person"></i> Nombre
                                                </label>
                                                <input type="text" class="form-control" id="regNombre" required
                                                    placeholder="Tu nombre">
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <label for="regApellido" class="form-label">
                                                    <i class="bi bi-person"></i> Apellido
                                                </label>
                                                <input type="text" class="form-control" id="regApellido" required
                                                    placeholder="Tu apellido">
                                            </div>
                                        </div>

                                        <div class="mb-3">
                                            <label for="regCedula" class="form-label">
                                                <i class="bi bi-card-text"></i> C√©dula
                                            </label>
                                            <input type="text" class="form-control" id="regCedula" required
                                                placeholder="Tu n√∫mero de c√©dula">
                                        </div>

                                        <div class="row">
                                            <div class="col-md-6 mb-3">
                                                <label for="regTelefono" class="form-label">
                                                    <i class="bi bi-telephone"></i> Tel√©fono
                                                </label>
                                                <input type="tel" class="form-control" id="regTelefono" required
                                                    placeholder="Tu tel√©fono">
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <label for="regCiudad" class="form-label">
                                                    <i class="bi bi-geo-alt"></i> Ciudad
                                                </label>
                                                <input type="text" class="form-control" id="regCiudad" required
                                                    placeholder="Tu ciudad">
                                            </div>
                                        </div>

                                        <div class="mb-3">
                                            <label for="regUsuario" class="form-label">
                                                <i class="bi bi-person-badge"></i> Usuario
                                            </label>
                                            <input type="text" class="form-control" id="regUsuario" required
                                                placeholder="Elige un nombre de usuario">
                                        </div>

                                        <div class="mb-3">
                                            <label for="regEmail" class="form-label">
                                                <i class="bi bi-envelope"></i> Correo Electr√≥nico
                                            </label>
                                            <input type="email" class="form-control" id="regEmail" required
                                                placeholder="Tu correo electr√≥nico">
                                        </div>

                                        <div class="mb-3">
                                            <label for="regPassword" class="form-label">
                                                <i class="bi bi-lock"></i> Contrase√±a
                                            </label>
                                            <div class="input-group">
                                                <input type="password" class="form-control" id="regPassword" required
                                                    placeholder="Elige una contrase√±a">
                                                <button class="btn btn-outline-secondary" type="button"
                                                    onclick="togglePasswordCliente('registro')">
                                                    <i class="bi bi-eye" id="toggleIconRegistro"></i>
                                                </button>
                                            </div>
                                        </div>

                                        <div id="registroErrorCliente" class="alert alert-danger d-none" role="alert">
                                        </div>

                                        <div class="d-grid gap-2">
                                            <button id="btn-registro-cliente" class="btn btn-success" type="button">
                                                <i class="bi bi-person-plus"></i>
                                                Crear Cuenta
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>

                            <hr>
                            <div class="text-center">
                                <small class="text-muted">
                                    <i class="bi bi-shield-check"></i>
                                    Sistema de Reservas de Le Salon de Lumi√®re
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal Viejo de Reserva (se eliminar√°) -->
            <div class="modal fade" id="ModalEstudiante" tabindex="-1" style="display:none;">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header text-white" style="background: var(--gradient-secondary) !important;">
                            <h5 class="modal-title">
                                <i class="bi bi-calendar-heart me-2"></i>
                                Realizar Reserva
                            </h5>
                            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <form id="EstudianteForm">
                                <div class="mb-3">
                                    <label for="loginEstudiante" class="form-label">
                                        <i class="bi bi-person"></i> Nombre Completo
                                    </label>
                                    <input type="text" class="form-control" id="loginEstudiante" required
                                        placeholder="Ingresa tu nombre completo">
                                </div>

                                <div class="mb-3">
                                    <label for="EstudianteContrase√±a" class="form-label">
                                        <i class="bi bi-telephone"></i> Tel√©fono de Contacto
                                    </label>
                                    <input type="tel" class="form-control" id="EstudianteContrase√±a" required
                                        placeholder="Ingresa tu n√∫mero de tel√©fono">
                                </div>

                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">
                                            <i class="bi bi-calendar-date"></i> Fecha
                                        </label>
                                        <input type="date" class="form-control" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">
                                            <i class="bi bi-clock"></i> Hora
                                        </label>
                                        <input type="time" class="form-control" required>
                                    </div>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label">
                                        <i class="bi bi-people"></i> N√∫mero de Personas
                                    </label>
                                    <select class="form-select" required>
                                        <option value="">Selecciona...</option>
                                        <option value="1">1 persona</option>
                                        <option value="2">2 personas</option>
                                        <option value="3">3 personas</option>
                                        <option value="4">4 personas</option>
                                        <option value="5">5 personas</option>
                                        <option value="6">6 personas</option>
                                        <option value="7">7 personas</option>
                                        <option value="8">8 personas</option>
                                        <option value="mas">M√°s de 8 personas</option>
                                    </select>
                                </div>

                                <div class="d-grid gap-2">
                                    <button id="btn-estudiante-login" class="btn btn-warning" type="button"
                                        style="background: var(--gradient-gold) !important; border: none; color: var(--primary-color); font-weight: 600;">
                                        <i class="bi bi-calendar-check"></i>
                                        Confirmar Reserva
                                    </button>
                                </div>
                            </form>

                            <hr>
                            <div class="text-center">
                                <small class="text-muted">
                                    <i class="bi bi-info-circle"></i>
                                    Reserva tu mesa y vive una experiencia gastron√≥mica √∫nica.
                                </small>
                            </div>

                            <!-- Informaci√≥n de reservas -->
                            <div class="mt-3 p-3 bg-light rounded">
                                <small class="text-muted">
                                    <i class="bi bi-shield-check"></i>
                                    <strong>Reserva Segura:</strong> Tu informaci√≥n est√° protegida y encriptada.<br>
                                    <i class="bi bi-telephone-check"></i>
                                    <strong>Confirmaci√≥n Inmediata:</strong> Recibir√°s confirmaci√≥n por SMS y email.<br>
                                    <i class="bi bi-star"></i>
                                    <strong>Experiencia Premium:</strong> Disfruta de nuestro servicio de primera
                                    clase.<br>
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

    </section>

    <script>
        // Modal de Administrador - Sistema de Le Salon de Lumi√®re
        const ModalProfesor = new bootstrap.Modal(
            document.getElementById('ModalProfesor'), {
            keyboard: false
        });

        // Conectar el bot√≥n del navbar con el modal de administrador
        document.getElementById('btn-actualizar-admin').addEventListener('click', function () {
            // Mostrar el modal directamente
            ModalProfesor.show();

            // Limpiar campos al mostrar el modal
            document.getElementById('adminUsuarioModal').value = '';
            document.getElementById('adminPasswordModal').value = '';
            document.getElementById('loginError').classList.add('d-none');
        });

        // Funci√≥n para alternar visibilidad de contrase√±a del admin
        function togglePasswordAdmin() {
            const passwordInput = document.getElementById('adminPasswordModal');
            const toggleIcon = document.getElementById('toggleIconAdmin');

            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                toggleIcon.classList.remove('bi-eye');
                toggleIcon.classList.add('bi-eye-slash');
            } else {
                passwordInput.type = 'password';
                toggleIcon.classList.remove('bi-eye-slash');
                toggleIcon.classList.add('bi-eye');
            }
        }

        // Login de administrador con sistema de autenticaci√≥n real
        document.getElementById('btn-admin-modal').addEventListener('click', function (e) {
            e.preventDefault();

            const usuario = document.getElementById('adminUsuarioModal').value.trim();
            const password = document.getElementById('adminPasswordModal').value.trim();
            const errorDiv = document.getElementById('loginError');

            // Validaci√≥n de campos
            if (!usuario || !password) {
                errorDiv.innerHTML = '<i class="bi bi-exclamation-triangle"></i> Por favor complete todos los campos';
                errorDiv.classList.remove('d-none');
                return;
            } else {
                errorDiv.classList.add('d-none');
            }

            // Preparar datos para enviar
            const formData = new FormData();
            formData.append('usuario', usuario);
            formData.append('password', password);

            // Mostrar loading con tema elegante
            Swal.fire({
                title: 'Verificando Credenciales',
                html: `
                            <div class="d-flex justify-content-center align-items-center" style="height: 80px;">
                                <div class="spinner-border" style="color: var(--gold-color);" role="status">
                                    <span class="visually-hidden">Cargando...</span>
                                </div>
                                <div class="ms-3" style="color: var(--primary-color);">
                                    <strong>Autenticando...</strong><br>
                                    <small>Sistema de seguridad del restaurante</small>
                                </div>
                            </div>
                        `,
                showConfirmButton: false,
                allowOutsideClick: false,
                allowEscapeKey: false,
                customClass: {
                    popup: 'border-0 shadow-lg',
                    title: 'fw-bold'
                },
                background: 'rgba(255, 255, 255, 0.95)',
                backdrop: 'rgba(45, 27, 18, 0.4)'
            });

            // Enviar credenciales al sistema de autenticaci√≥n
            fetch('app/validar_admin.php', {
                method: 'POST',
                body: formData
            })
                .then(response => {
                    // If server returned non-2xx, capture text for debugging
                    if (!response.ok) {
                        return response.text().then(text => {
                            throw new Error('Server error ' + response.status + ': ' + text);
                        });
                    }
                    const ct = response.headers.get('content-type') || '';
                    if (ct.indexOf('application/json') === -1) {
                        return response.text().then(text => {
                            throw new Error('Respuesta no JSON: ' + text);
                        });
                    }
                    return response.json();
                })
                .then(data => {
                    if (data.success) {
                        // Login exitoso
                        setTimeout(() => {
                            ModalProfesor.hide();

                            Swal.fire({
                                icon: 'success',
                                title: '¬°Acceso Autorizado!',
                                html: `
                                        <div style="color: var(--primary-color);">
                                            <strong>Bienvenido al Panel de Control</strong><br>
                                            <small>Le Salon de Lumi√®re - Sistema Administrativo</small>
                                        </div>
                                    `,
                                timer: 2000,
                                showConfirmButton: false,
                                timerProgressBar: true,
                                customClass: {
                                    popup: 'border-0 shadow-lg'
                                },
                                background: 'rgba(255, 255, 255, 0.95)'
                            });

                            // Redirigir al panel de administraci√≥n
                            setTimeout(() => {
                                window.location.href = 'admin.php';
                            }, 1800);
                        }, 1000);

                    } else {
                        // Login fallido
                        setTimeout(() => {
                            Swal.fire({
                                icon: 'error',
                                title: 'Acceso Denegado',
                                html: `
                                        <div style="color: var(--primary-color);">
                                            <strong>${data.message || 'Credenciales incorrectas'}</strong><br>
                                            <small>Verifique su usuario y contrase√±a</small>
                                        </div>
                                    `,
                                timer: 3000,
                                showConfirmButton: false,
                                timerProgressBar: true,
                                customClass: {
                                    popup: 'border-0 shadow-lg'
                                },
                                background: 'rgba(255, 255, 255, 0.95)'
                            });
                        }, 1000);
                    }
                })
                .catch(error => {
                    setTimeout(() => {
                        Swal.fire({
                            icon: 'error',
                            title: 'Error de Conexi√≥n',
                            html: `
                                    <div style="color: var(--primary-color);">
                                        <strong>No se pudo conectar al servidor</strong><br>
                                        <small>Verifique la conexi√≥n a la base de datos</small>
                                    </div>
                                `,
                            timer: 3000,
                            showConfirmButton: false,
                            timerProgressBar: true,
                            customClass: {
                                popup: 'border-0 shadow-lg'
                            },
                            background: 'rgba(255, 255, 255, 0.95)'
                        });
                    }, 1000);
                });
        });

        // ========== MODAL Y FUNCIONALIDAD PARA CLIENTES ==========
        const ModalCliente = new bootstrap.Modal(
            document.getElementById('ModalCliente'), {
            keyboard: false
        });

        // Conectar el bot√≥n del cliente con verificaci√≥n de sesi√≥n
        document.getElementById('btn-cliente-login').addEventListener('click', async function () {
            try {
                // Verificar si ya tiene sesi√≥n activa
                const response = await fetch('app/verificar_sesion_cliente.php', {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                });

                const data = await response.json();

                if (data.authenticated) {
                    // Si ya tiene sesi√≥n, mostrar mensaje y redirigir directamente
                    Swal.fire({
                        icon: 'success',
                        title: '¬°Sesi√≥n Activa!',
                        text: `Bienvenido de nuevo ${data.cliente.nombre}`,
                        timer: 1500,
                        showConfirmButton: false
                    });

                    setTimeout(() => {
                        window.location.href = 'mesas.php';
                    }, 1500);
                } else {
                    // Si no tiene sesi√≥n, mostrar modal de login
                    ModalCliente.show();
                    // Limpiar campos
                    document.getElementById('loginUsuario').value = '';
                    document.getElementById('loginPassword').value = '';
                    document.getElementById('loginErrorCliente').classList.add('d-none');
                }
            } catch (error) {
                console.error('Error al verificar sesi√≥n:', error);
                // En caso de error, mostrar modal de login
                ModalCliente.show();
                document.getElementById('loginUsuario').value = '';
                document.getElementById('loginPassword').value = '';
                document.getElementById('loginErrorCliente').classList.add('d-none');
            }
        });

        // Funci√≥n para alternar visibilidad de contrase√±a del cliente
        function togglePasswordCliente(tipo) {
            if (tipo === 'login') {
                const passwordInput = document.getElementById('loginPassword');
                const toggleIcon = document.getElementById('toggleIconLogin');
                if (passwordInput.type === 'password') {
                    passwordInput.type = 'text';
                    toggleIcon.classList.remove('bi-eye');
                    toggleIcon.classList.add('bi-eye-slash');
                } else {
                    passwordInput.type = 'password';
                    toggleIcon.classList.remove('bi-eye-slash');
                    toggleIcon.classList.add('bi-eye');
                }
            } else if (tipo === 'registro') {
                const passwordInput = document.getElementById('regPassword');
                const toggleIcon = document.getElementById('toggleIconRegistro');
                if (passwordInput.type === 'password') {
                    passwordInput.type = 'text';
                    toggleIcon.classList.remove('bi-eye');
                    toggleIcon.classList.add('bi-eye-slash');
                } else {
                    passwordInput.type = 'password';
                    toggleIcon.classList.remove('bi-eye-slash');
                    toggleIcon.classList.add('bi-eye');
                }
            }
        }

        // Login de cliente
        document.getElementById('btn-login-cliente').addEventListener('click', function (e) {
            e.preventDefault();

            const usuario = document.getElementById('loginUsuario').value.trim();
            const password = document.getElementById('loginPassword').value.trim();
            const errorDiv = document.getElementById('loginErrorCliente');

            // Validaci√≥n
            if (!usuario || !password) {
                errorDiv.innerHTML = '<i class="bi bi-exclamation-triangle"></i> Por favor complete todos los campos';
                errorDiv.classList.remove('d-none');
                return;
            } else {
                errorDiv.classList.add('d-none');
            }

            const formData = new FormData();
            formData.append('usuario', usuario);
            formData.append('password', password);

            // Mostrar loading
            Swal.fire({
                title: 'Verificando Credenciales',
                html: '<div class="spinner-border text-primary" role="status"><span class="visually-hidden">Cargando...</span></div>',
                showConfirmButton: false,
                allowOutsideClick: false,
                allowEscapeKey: false
            });

            fetch('app/validar_cliente_simple.php', {
                method: 'POST',
                body: formData
            })
                .then(response => {
                    if (!response.ok) {
                        return response.text().then(text => {
                            throw new Error('Server error ' + response.status);
                        });
                    }
                    return response.json();
                })
                .then(data => {
                    if (data.success) {
                        // Login exitoso
                        setTimeout(() => {
                            ModalCliente.hide();

                            Swal.fire({
                                icon: 'success',
                                title: '¬°Bienvenido!',
                                html: `<strong>${data.cliente.nombre} ${data.cliente.apellido}</strong><br><small>Ahora puedes hacer tu reserva</small>`,
                                timer: 2000,
                                showConfirmButton: false,
                                timerProgressBar: true
                            });

                            // Verificar si hay mesa pendiente y seleccionarla
                            const mesaPendiente = localStorage.getItem('mesa_pendiente');
                            if (mesaPendiente) {
                                localStorage.removeItem('mesa_pendiente');
                                // Seleccionar la mesa despu√©s del login
                                setTimeout(async () => {
                                    try {
                                        const response = await fetch('app/api/seleccionar_mesa.php', {
                                            method: 'POST',
                                            headers: { 'Content-Type': 'application/json' },
                                            body: JSON.stringify({ mesa_id: mesaPendiente })
                                        });
                                        const mesaData = await response.json();
                                        if (mesaData.success) {
                                            window.location.href = 'mesas.php';
                                        } else {
                                            window.location.href = 'mesas.php';
                                        }
                                    } catch (error) {
                                        console.error('Error al seleccionar mesa:', error);
                                        window.location.href = 'mesas.php';
                                    }
                                }, 1800);
                            } else {
                                // Redirigir a mesas.php sin mesa seleccionada
                                setTimeout(() => {
                                    window.location.href = 'mesas.php';
                                }, 1800);
                            }
                        }, 1000);
                    } else {
                        // Login fallido
                        setTimeout(() => {
                            Swal.fire({
                                icon: 'error',
                                title: 'Acceso Denegado',
                                text: data.message || 'Credenciales incorrectas',
                                timer: 3000,
                                showConfirmButton: false,
                                timerProgressBar: true
                            });
                        }, 1000);
                    }
                })
                .catch(error => {
                    setTimeout(() => {
                        Swal.fire({
                            icon: 'error',
                            title: 'Error de Conexi√≥n',
                            text: 'No se pudo conectar al servidor',
                            timer: 3000,
                            showConfirmButton: false,
                            timerProgressBar: true
                        });
                    }, 1000);
                });
        });

        // Registro de cliente
        document.getElementById('btn-registro-cliente').addEventListener('click', function (e) {
            e.preventDefault();

            const nombre = document.getElementById('regNombre').value.trim();
            const apellido = document.getElementById('regApellido').value.trim();
            const cedula = document.getElementById('regCedula').value.trim();
            const telefono = document.getElementById('regTelefono').value.trim();
            const ciudad = document.getElementById('regCiudad').value.trim();
            const usuario = document.getElementById('regUsuario').value.trim();
            const email = document.getElementById('regEmail').value.trim();
            const password = document.getElementById('regPassword').value.trim();
            const errorDiv = document.getElementById('registroErrorCliente');

            // Validaci√≥n
            if (!nombre || !apellido || !cedula || !telefono || !ciudad || !usuario || !email || !password) {
                errorDiv.innerHTML = '<i class="bi bi-exclamation-triangle"></i> Por favor complete todos los campos';
                errorDiv.classList.remove('d-none');
                return;
            } else {
                errorDiv.classList.add('d-none');
            }

            const formData = new FormData();
            formData.append('nombre', nombre);
            formData.append('apellido', apellido);
            formData.append('cedula', cedula);
            formData.append('telefono', telefono);
            formData.append('ciudad', ciudad);
            formData.append('usuario', usuario);
            formData.append('email', email);
            formData.append('password', password);

            // Mostrar loading
            Swal.fire({
                title: 'Creando Cuenta',
                html: '<div class="spinner-border text-success" role="status"><span class="visually-hidden">Cargando...</span></div>',
                showConfirmButton: false,
                allowOutsideClick: false,
                allowEscapeKey: false
            });

            fetch('app/registro_cliente_simple.php', {
                method: 'POST',
                body: formData
            })
                .then(response => {
                    if (!response.ok) {
                        return response.text().then(text => {
                            throw new Error('Server error ' + response.status);
                        });
                    }
                    return response.json();
                })
                .then(data => {
                    if (data.success) {
                        // Registro exitoso
                        setTimeout(() => {
                            ModalCliente.hide();

                            Swal.fire({
                                icon: 'success',
                                title: '¬°Cuenta Creada!',
                                html: `<strong>Bienvenido ${data.cliente.nombre}!</strong><br><small>Tu cuenta ha sido creada exitosamente</small>`,
                                timer: 2000,
                                showConfirmButton: false,
                                timerProgressBar: true
                            });

                            // Verificar si hay mesa pendiente y seleccionarla
                            const mesaPendiente = localStorage.getItem('mesa_pendiente');
                            if (mesaPendiente) {
                                localStorage.removeItem('mesa_pendiente');
                                // Seleccionar la mesa despu√©s del registro
                                setTimeout(async () => {
                                    try {
                                        const response = await fetch('app/api/seleccionar_mesa.php', {
                                            method: 'POST',
                                            headers: { 'Content-Type': 'application/json' },
                                            body: JSON.stringify({ mesa_id: mesaPendiente })
                                        });
                                        const mesaData = await response.json();
                                        if (mesaData.success) {
                                            window.location.href = 'mesas.php';
                                        } else {
                                            window.location.href = 'mesas.php';
                                        }
                                    } catch (error) {
                                        console.error('Error al seleccionar mesa:', error);
                                        window.location.href = 'mesas.php';
                                    }
                                }, 1800);
                            } else {
                                // Redirigir a mesas.php sin mesa seleccionada (ya tiene sesi√≥n activa)
                                setTimeout(() => {
                                    window.location.href = 'mesas.php';
                                }, 1800);
                            }
                        }, 1000);
                    } else {
                        // Registro fallido
                        setTimeout(() => {
                            Swal.fire({
                                icon: 'error',
                                title: 'Error al Registrar',
                                text: data.message || 'No se pudo crear la cuenta',
                                timer: 3000,
                                showConfirmButton: false,
                                timerProgressBar: true
                            });
                        }, 1000);
                    }
                })
                .catch(error => {
                    setTimeout(() => {
                        Swal.fire({
                            icon: 'error',
                            title: 'Error de Conexi√≥n',
                            text: 'No se pudo conectar al servidor',
                            timer: 3000,
                            showConfirmButton: false,
                            timerProgressBar: true
                        });
                    }, 1000);
                });
        });

    </script>







    <!-- Footer -->
    <footer class="main-footer" id="contacto">
        <div class="container">
            <div class="footer-content">
                <div class="footer-icon">
                    <i class="bi bi-cup-hot-fill"></i>
                </div>
                <div>
                    <p class="mb-0">
                        ¬© 2025 Le Salon de Lumi√®re -
                        <i class="bi bi-heart-fill text-warning"></i>
                        Experiencia Gastron√≥mica Premium
                    </p>
                    <small class="text-muted">
                        <i class="bi bi-shield-lock"></i>
                        Sistema Seguro de Reservas |
                        <i class="bi bi-telephone"></i>
                        Reservas: 0998521340
                        <br>
                        <i class="bi bi-copyright"></i>
                        <span class="text-muted">
                            Copyright ¬©Ing. Joffre G√≥mez 2025
                        </span>
                    </small>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="public/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- SweetAlert2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>




    <!-- Animaciones personalizadas -->
    <script>
        // Agregar clase de animaci√≥n cuando el elemento entra en vista
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Observar elementos con animaci√≥n
        document.querySelectorAll('.fade-in-up').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(30px)';
            el.style.transition = 'all 0.6s ease-out';
            observer.observe(el);
        });

        // Funcionalidad Modo Oscuro
        const darkModeBtn = document.getElementById('darkModeBtn');
        const darkModeIcon = document.getElementById('darkModeIcon');
        const darkModeText = document.getElementById('darkModeText');
        const body = document.body;

        // Verificar si hay preferencia guardada
        const currentMode = localStorage.getItem('darkMode');
        if (currentMode === 'enabled') {
            enableDarkMode();
        }

        darkModeBtn.addEventListener('click', () => {
            if (body.classList.contains('dark-mode')) {
                disableDarkMode();
            } else {
                enableDarkMode();
            }
        });

        function enableDarkMode() {
            body.classList.add('dark-mode');
            darkModeIcon.classList.remove('bi-moon-fill');
            darkModeIcon.classList.add('bi-sun-fill');
            darkModeText.textContent = 'Modo Claro';
            localStorage.setItem('darkMode', 'enabled');

            // Aplicar estilos a modales si est√°n abiertos
            applyDarkModeToModals();
        }

        function disableDarkMode() {
            body.classList.remove('dark-mode');
            darkModeIcon.classList.remove('bi-sun-fill');
            darkModeIcon.classList.add('bi-moon-fill');
            darkModeText.textContent = 'Modo Oscuro';
            localStorage.setItem('darkMode', 'disabled');
        }

        // Funci√≥n para aplicar estilos de modo oscuro a modales
        function applyDarkModeToModals() {
            if (body.classList.contains('dark-mode')) {
                document.querySelectorAll('.modal-body').forEach(modalBody => {
                    modalBody.style.backgroundColor = '#ffffff';
                    modalBody.style.color = '#000000';
                });

                document.querySelectorAll('.modal-content').forEach(modalContent => {
                    modalContent.style.backgroundColor = '#ffffff';
                    modalContent.style.color = '#000000';
                });

                document.querySelectorAll('.form-label').forEach(label => {
                    label.style.color = '#000000';
                });

                document.querySelectorAll('.form-control').forEach(input => {
                    input.style.backgroundColor = '#ffffff';
                    input.style.color = '#000000';
                    input.style.borderColor = '#cccccc';
                });
            }
        }

        // Observar cuando se abren los modales
        document.addEventListener('shown.bs.modal', applyDarkModeToModals);

        // Aplicar cuando el DOM cambia
        const modalObserver = new MutationObserver(() => {
            if (body.classList.contains('dark-mode')) {
                applyDarkModeToModals();
            }
        });

        modalObserver.observe(document.body, {
            childList: true,
            subtree: true,
            attributes: true,
            attributeFilter: ['class']
        });

        // Navegaci√≥n suave
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    const offsetTop = target.offsetTop - 80; // Espacio para el navbar
                    window.scrollTo({
                        top: offsetTop,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Cambiar navbar al hacer scroll
        window.addEventListener('scroll', function () {
            const navbar = document.querySelector('.navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('navbar-scrolled');
            } else {
                navbar.classList.remove('navbar-scrolled');
            }
        });

        // Funci√≥n para mostrar/ocultar contrase√±a en el modal
        function togglePasswordModal() {
            const passwordField = document.getElementById('adminPassword');
            const passwordProfesor = document.getElementById('ProfesorContrase√±a');
            const toggleIcon = document.getElementById('toggleIconModal');

            if (passwordField.type === 'password' && passwordProfesor.type === 'password') {
                passwordField.type = 'text';
                passwordProfesor.type = 'text';
                toggleIcon.classList.remove('bi-eye');
                toggleIcon.classList.add('bi-eye-slash');
            } else {
                passwordField.type = 'password';
                passwordProfesor.type = 'password';
                toggleIcon.classList.remove('bi-eye-slash');
                toggleIcon.classList.add('bi-eye');
            }
        }

        // Prevenir cach√© de la p√°gina despu√©s de logout
        // Si el usuario cerr√≥ sesi√≥n y presiona atr√°s, limpiar cualquier dato
        window.addEventListener('pageshow', function (event) {
            // Si la p√°gina se carga desde cach√© del navegador
            if (event.persisted) {
                // Limpiar storage por seguridad
                sessionStorage.clear();
            }
        });

        // ===== VISUALIZACI√ìN DE MESAS EN TIEMPO REAL =====
        class MesasVisualizacion {
            constructor() {
                this.mesas = [];
                this.updateInterval = null;
                this.init();
            }

            async init() {
                await this.cargarMesas();
                this.iniciarActualizacionAutomatica();

                // Event listener para el bot√≥n de actualizar
                const btnActualizar = document.getElementById('btnActualizarMesas');
                if (btnActualizar) {
                    btnActualizar.addEventListener('click', () => this.cargarMesas());
                }
            }

            async cargarMesas() {
                try {
                    const response = await fetch('app/api/mesas_estado.php');
                    if (!response.ok) {
                        throw new Error('Error al obtener las mesas');
                    }

                    const data = await response.json();

                    if (data.success) {
                        this.mesas = data.mesas;
                        this.renderizarMesas();
                        this.actualizarEstadisticas(data.resumen);
                    } else {
                        console.error('Error en la respuesta:', data.message);
                    }
                } catch (error) {
                    console.error('Error cargando mesas:', error);
                    this.mostrarError();
                }
            }

            renderizarMesas() {
                // Renderizar todas las mesas en un solo grid de galer√≠a
                const gallery = document.getElementById('mesasGallery');
                if (gallery) {
                    gallery.innerHTML = '';
                    this.mesas.forEach(mesa => {
                        const mesaElement = this.crearElementoMesa(mesa);
                        gallery.appendChild(mesaElement);
                    });
                }
            }

            agruparPorZona(mesas) {
                return mesas.reduce((grupos, mesa) => {
                    const zona = mesa.ubicacion || 'interior';
                    if (!grupos[zona]) {
                        grupos[zona] = [];
                    }
                    grupos[zona].push(mesa);
                    return grupos;
                }, {});
            }

            crearElementoMesa(mesa) {
                const mesaDiv = document.createElement('div');
                mesaDiv.className = 'col-md-4 col-lg-3 fade-in-up';

                const disponible = mesa.estado === 'disponible';
                const zona = mesa.ubicacion || 'interior';
                const capacidad = mesa.capacidad_minima && mesa.capacidad_maxima
                    ? (mesa.capacidad_minima === mesa.capacidad_maxima
                        ? mesa.capacidad_maxima
                        : `${mesa.capacidad_minima}-${mesa.capacidad_maxima}`)
                    : mesa.capacidad;

                // Im√°genes elegantes seg√∫n la zona
                const imagenes = {
                    'interior': 'https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=600&q=80',
                    'terraza': 'https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=600&q=80',
                    'vip': 'https://images.unsplash.com/photo-1550966871-3ed3cdb5ed0c?w=600&q=80',
                    'bar': 'https://images.unsplash.com/photo-1514933651103-005eec06c04b?w=600&q=80'
                };

                const zonaTexto = {
                    'interior': 'Sal√≥n Principal',
                    'terraza': 'Terraza',
                    'vip': '√Årea VIP',
                    'bar': 'Bar & Lounge'
                };

                mesaDiv.innerHTML = `
                    <div class="mesa-card" style="position: relative; border-radius: 20px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.15); transition: all 0.3s ease; cursor: pointer; background: white; ${!disponible ? 'opacity: 0.6;' : ''}"
                        onmouseover="this.style.transform='translateY(-8px)'; this.style.boxShadow='0 15px 40px rgba(212, 175, 55, 0.3)'"
                        onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 10px 30px rgba(0,0,0,0.15)'">
                        
                        <!-- Imagen de fondo -->
                        <div style="position: relative; height: 220px; overflow: hidden;">
                            <img src="${imagenes[zona]}" alt="${zonaTexto[zona]}" 
                                style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s ease;"
                                onmouseover="this.style.transform='scale(1.05)'"
                                onmouseout="this.style.transform='scale(1)'">
                            
                            <!-- Overlay gradient -->
                            <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(to bottom, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0.5) 100%);"></div>
                            
                            <!-- Badge de disponibilidad -->
                            <div style="position: absolute; top: 15px; right: 15px; background: ${disponible ? 'var(--gold-color)' : '#999'}; color: white; padding: 5px 15px; border-radius: 20px; font-size: 0.75rem; font-weight: 600; box-shadow: 0 2px 8px rgba(0,0,0,0.2);">
                                ${disponible ? '‚úì Disponible' : '‚úó No Disponible'}
                            </div>
                            
                            <!-- Informaci√≥n sobre la imagen -->
                            <div style="position: absolute; bottom: 15px; left: 15px; color: white;">
                                <div style="font-size: 0.85rem; opacity: 0.9; margin-bottom: 5px;">${zonaTexto[zona]}</div>
                                <div style="font-size: 1.5rem; font-weight: 700; text-shadow: 0 2px 4px rgba(0,0,0,0.3);">
                                    Mesa ${mesa.numero}
                                </div>
                            </div>
                        </div>
                        
                        <!-- Informaci√≥n de la mesa -->
                        <div style="padding: 20px;">
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <div style="color: #666; font-size: 0.9rem;">
                                    <i class="bi bi-people-fill" style="color: var(--gold-color);"></i>
                                    <strong style="color: var(--primary-color);">${capacidad} personas</strong>
                                </div>
                                <div style="color: #999; font-size: 0.85rem;">
                                    <i class="bi bi-geo-alt-fill" style="color: var(--gold-color);"></i> ${zonaTexto[zona]}
                                </div>
                            </div>
                            
                            <!-- Precio de reserva -->
                            <div class="text-center mb-3" style="background: linear-gradient(135deg, rgba(212, 175, 55, 0.1) 0%, rgba(212, 175, 55, 0.05) 100%); padding: 12px; border-radius: 15px; border: 2px dashed var(--gold-color);">
                                <div style="font-size: 0.75rem; color: #999; margin-bottom: 3px;">Precio de Reserva</div>
                                <div style="font-size: 1.5rem; font-weight: 700; color: var(--gold-color);">
                                    $${parseFloat(mesa.precio_reserva || 5).toFixed(2)}
                                </div>
                                <div style="font-size: 0.7rem; color: #999; margin-top: 3px;">+ Consumo de platos</div>
                            </div>
                            
                            ${disponible ? `
                            <button class="btn w-100 mt-2" style="background: var(--gradient-gold); color: var(--primary-color); border: none; border-radius: 25px; padding: 10px; font-weight: 600; font-size: 0.9rem; transition: all 0.3s ease;"
                                onmouseover="this.style.transform='scale(1.02)'"
                                onmouseout="this.style.transform='scale(1)'">
                                <i class="bi bi-calendar-check"></i> Reservar Ahora
                            </button>
                            ` : `
                            <button class="btn w-100 mt-2" style="background: #e9ecef; color: #999; border: none; border-radius: 25px; padding: 10px; font-weight: 600; font-size: 0.9rem;" disabled>
                                <i class="bi bi-x-circle"></i> ${this.obtenerTextoEstado(mesa.estado)}
                            </button>
                            `}
                        </div>
                    </div>
                `;

                // Click para reservar o ver detalles
                const card = mesaDiv.querySelector('.mesa-card');
                card.addEventListener('click', () => this.mostrarDetallesMesa(mesa));

                return mesaDiv;
            }

            obtenerColorEstado(estado) {
                const colores = {
                    'disponible': 'linear-gradient(135deg, #28a745 0%, #20c997 100%)',
                    'ocupada': 'linear-gradient(135deg, #dc3545 0%, #e74c3c 100%)',
                    'reservada': 'linear-gradient(135deg, #ffc107 0%, #ff9800 100%)',
                    'mantenimiento': 'linear-gradient(135deg, #6c757d 0%, #5a6268 100%)'
                };
                return colores[estado] || colores['disponible'];
            }

            obtenerIconoMesa(mesa) {
                const zona = mesa.ubicacion || 'interior';
                const iconos = {
                    'interior': 'üçΩÔ∏è',
                    'terraza': 'üåø',
                    'vip': 'üëë',
                    'bar': 'üç∏'
                };
                return iconos[zona] || 'üçΩÔ∏è';
            }

            obtenerBadgeEstado(estado) {
                const badges = {
                    'disponible': '‚úì',
                    'ocupada': '‚úó',
                    'reservada': 'üìÖ',
                    'mantenimiento': 'üîß'
                };
                return badges[estado] || '‚úì';
            }

            obtenerTextoEstado(estado) {
                const textos = {
                    'disponible': 'Disponible',
                    'ocupada': 'Ocupada',
                    'reservada': 'Reservada',
                    'mantenimiento': 'Mantenimiento'
                };
                return textos[estado] || 'Disponible';
            }

            actualizarEstadisticas(resumen) {
                // Estad√≠sticas simplificadas - solo para consola
                if (resumen) {
                    console.log('Estad√≠sticas de mesas:', resumen);
                }
            }

            mostrarDetallesMesa(mesa) {
                const estadoTexto = this.obtenerTextoEstado(mesa.estado);
                const estadoColor = mesa.estado === 'disponible' ? 'success' :
                    mesa.estado === 'ocupada' ? 'danger' :
                        mesa.estado === 'reservada' ? 'warning' : 'secondary';

                const precioReserva = parseFloat(mesa.precio_reserva || 5).toFixed(2);

                Swal.fire({
                    title: `Mesa ${mesa.numero}`,
                    html: `
                                <div style="text-align: left; color: #333;">
                                    <p><strong><i class="bi bi-geo-alt-fill"></i> Ubicaci√≥n:</strong> ${this.capitalizarPrimeraLetra(mesa.ubicacion)}</p>
                                    <p><strong><i class="bi bi-people-fill"></i> Capacidad:</strong> ${mesa.capacidad_minima && mesa.capacidad_maxima
                            ? (mesa.capacidad_minima === mesa.capacidad_maxima
                                ? mesa.capacidad_maxima
                                : `${mesa.capacidad_minima} - ${mesa.capacidad_maxima}`)
                            : mesa.capacidad} personas</p>
                                    <p><strong><i class="bi bi-cash-coin"></i> Precio de Reserva:</strong> 
                                        <span style="color: var(--gold-color); font-weight: 700; font-size: 1.2rem;">$${precioReserva}</span>
                                        <small class="text-muted"> + consumo</small>
                                    </p>
                                    <p><strong><i class="bi bi-info-circle-fill"></i> Estado:</strong> 
                                        <span class="badge bg-${estadoColor}">${estadoTexto}</span>
                                    </p>
                                    ${mesa.estado === 'disponible'
                            ? '<p class="text-success mt-3"><i class="bi bi-check-circle-fill"></i> ¬°Esta mesa est√° disponible para reservar!</p>'
                            : '<p class="text-muted mt-3"><i class="bi bi-x-circle-fill"></i> Esta mesa no est√° disponible en este momento.</p>'}
                                </div>
                            `,
                    icon: 'info',
                    confirmButtonText: mesa.estado === 'disponible' ? 'Reservar Mesa' : 'Entendido',
                    confirmButtonColor: '#d4af37',
                    showCancelButton: mesa.estado === 'disponible',
                    cancelButtonText: 'Cerrar',
                    cancelButtonColor: '#6c757d'
                }).then((result) => {
                    if (result.isConfirmed && mesa.estado === 'disponible') {
                        // Guardar mesa seleccionada autom√°ticamente
                        this.seleccionarMesa(mesa.id);
                    }
                });
            }

            async seleccionarMesa(mesaId) {
                try {
                    // Primero verificar si est√° autenticado
                    const sesionResponse = await fetch('app/verificar_sesion_cliente.php');
                    const sesionData = await sesionResponse.json();
                    
                    if (!sesionData.authenticated) {
                        // Guardar mesa_id en localStorage para seleccionarla despu√©s del login
                        localStorage.setItem('mesa_pendiente', mesaId);
                        // Mostrar modal de login
                        document.getElementById('btn-cliente-login').click();
                        return;
                    }
                    
                    // Si est√° autenticado, seleccionar la mesa
                    const response = await fetch('app/api/seleccionar_mesa.php', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ mesa_id: mesaId })
                    });

                    const data = await response.json();

                    if (data.success) {
                        // Mesa guardada exitosamente, redirigir a mesas.php
                        window.location.href = 'mesas.php';
                    } else {
                        Swal.fire({
                            icon: 'error',
                            title: 'Error',
                            text: data.message || 'No se pudo seleccionar la mesa',
                            confirmButtonColor: '#d4af37'
                        });
                    }
                } catch (error) {
                    console.error('Error al seleccionar mesa:', error);
                    // Guardar mesa en localStorage y abrir modal
                    localStorage.setItem('mesa_pendiente', mesaId);
                    document.getElementById('btn-cliente-login').click();
                }
            }

            capitalizarPrimeraLetra(texto) {
                if (!texto) return '';
                return texto.charAt(0).toUpperCase() + texto.slice(1);
            }

            iniciarActualizacionAutomatica() {
                // Actualizar cada 30 segundos
                this.updateInterval = setInterval(() => {
                    this.cargarMesas();
                }, 30000);
            }

            mostrarError() {
                const zonas = document.querySelectorAll('.mesas-grid');
                zonas.forEach(zona => {
                    zona.innerHTML = `
                                <div class="col-12 text-center py-4">
                                    <i class="bi bi-exclamation-triangle" style="font-size: 2rem; color: #dc3545;"></i>
                                    <p class="text-muted mt-2">Error al cargar las mesas</p>
                                </div>
                            `;
                });
            }
        }

        // Inicializar visualizaci√≥n de mesas cuando el DOM est√© listo
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => {
                new MesasVisualizacion();
            });
        } else {
            new MesasVisualizacion();
        }

        // ==================== GESTI√ìN DE MEN√ö ====================
        class MenuGastronomico {
            constructor() {
                this.categorias = [];
                this.init();
            }

            init() {
                this.cargarMenu();
                this.configurarBotonesRapidos();
            }

            configurarBotonesRapidos() {
                // Bot√≥n de Bebidas/C√≥cteles
                const btnBebidas = document.getElementById('btnBebidasMenu');
                if (btnBebidas) {
                    btnBebidas.addEventListener('click', () => {
                        const categoriaBebidas = this.categorias.find(c => c.nombre === 'Bebidas');
                        if (categoriaBebidas) {
                            this.mostrarPlatosCategoria(categoriaBebidas);
                        } else {
                            document.getElementById('menu').scrollIntoView({ behavior: 'smooth' });
                        }
                    });
                }

                // Bot√≥n de Vinos
                const btnVinos = document.getElementById('btnVinosMenu');
                if (btnVinos) {
                    btnVinos.addEventListener('click', () => {
                        const categoriaVinos = this.categorias.find(c => c.nombre === 'Vinos');
                        if (categoriaVinos) {
                            this.mostrarPlatosCategoria(categoriaVinos);
                        } else {
                            document.getElementById('menu').scrollIntoView({ behavior: 'smooth' });
                        }
                    });
                }
            }

            async cargarMenu() {
                try {
                    const response = await fetch('app/api/obtener_menu.php');
                    if (!response.ok) {
                        throw new Error('Error al obtener el men√∫');
                    }

                    const data = await response.json();

                    if (data.success) {
                        this.categorias = data.categorias;
                        this.renderizarCategorias();
                        // Reconfigurar botones despu√©s de cargar categor√≠as
                        this.configurarBotonesRapidos();
                    } else {
                        console.error('Error en la respuesta:', data.message);
                        this.mostrarError();
                    }
                } catch (error) {
                    console.error('Error cargando men√∫:', error);
                    this.mostrarError();
                }
            }

            renderizarCategorias() {
                const container = document.getElementById('menuCategorias');
                if (!container) return;

                container.innerHTML = '';

                // Iconos para cada categor√≠a
                const iconos = {
                    'Entradas': 'ü•ó',
                    'Platos Principales': 'üçΩÔ∏è',
                    'Carnes': 'ü•©',
                    'Vinos': 'üç∑',
                    'Mariscos': 'ü¶û',
                    'Postres': 'üç∞',
                    'Bebidas': 'ü•§'
                };

                this.categorias.forEach((categoria, index) => {
                    const categoriaDiv = document.createElement('div');
                    categoriaDiv.className = 'col-lg-2 col-md-3 col-sm-4 col-6 fade-in-up';
                    categoriaDiv.style.animationDelay = `${index * 0.1}s`;

                    const icono = iconos[categoria.nombre] || 'üç¥';
                    const cantidadPlatos = categoria.platos.length;

                    categoriaDiv.innerHTML = `
                        <div class="categoria-circle" 
                            style="background: white; border: 3px solid rgba(212, 175, 55, 0.3); border-radius: 50%; width: 140px; height: 140px; margin: 0 auto; display: flex; flex-direction: column; align-items: center; justify-content: center; cursor: pointer; transition: all 0.4s ease; box-shadow: 0 8px 25px rgba(0,0,0,0.1); position: relative; overflow: hidden;"
                            onmouseover="this.style.transform='translateY(-10px) scale(1.05)'; this.style.borderColor='var(--gold-color)'; this.style.boxShadow='0 15px 40px rgba(212, 175, 55, 0.4)'"
                            onmouseout="this.style.transform='translateY(0) scale(1)'; this.style.borderColor='rgba(212, 175, 55, 0.3)'; this.style.boxShadow='0 8px 25px rgba(0,0,0,0.1)'">
                            
                            <div style="position: absolute; top: -30px; right: -30px; width: 80px; height: 80px; background: linear-gradient(135deg, rgba(212, 175, 55, 0.1) 0%, rgba(212, 175, 55, 0.05) 100%); border-radius: 50%;"></div>
                            
                            <div style="font-size: 3rem; margin-bottom: 8px; position: relative; z-index: 1;">${icono}</div>
                            <div class="categoria-nombre" style="font-size: 0.85rem; font-weight: 700; color: var(--primary-color); text-align: center; position: relative; z-index: 1; line-height: 1.2;">
                                ${categoria.nombre}
                            </div>
                            <div class="categoria-count" style="font-size: 0.7rem; color: #999; margin-top: 4px; position: relative; z-index: 1;">
                                ${cantidadPlatos} plato${cantidadPlatos !== 1 ? 's' : ''}
                            </div>
                        </div>
                    `;

                    // Click para mostrar platos de la categor√≠a
                    const circle = categoriaDiv.querySelector('.categoria-circle');
                    circle.addEventListener('click', () => this.mostrarPlatosCategoria(categoria));

                    container.appendChild(categoriaDiv);
                });
            }

            mostrarPlatosCategoria(categoria) {
                const iconos = {
                    'Entradas': 'ü•ó',
                    'Platos Principales': 'üçΩÔ∏è',
                    'Carnes': 'ü•©',
                    'Vinos': 'üç∑',
                    'Mariscos': 'ü¶û',
                    'Postres': 'üç∞',
                    'Bebidas': 'ü•§'
                };

                const icono = iconos[categoria.nombre] || 'üç¥';

                let platosHTML = '';

                if (categoria.platos.length === 0) {
                    platosHTML = '<p class="text-center text-muted py-4">No hay platos disponibles en esta categor√≠a</p>';
                } else {
                    platosHTML = '<div class="row g-3">';
                    categoria.platos.forEach(plato => {
                        const precio = parseFloat(plato.precio).toFixed(2);
                        const disponible = parseInt(plato.stock_disponible) > 0;

                        // Im√°genes por defecto para categor√≠as si no tiene imagen_url
                        const imagenesPorCategoria = {
                            'Entradas': 'https://images.unsplash.com/photo-1621996346565-e3dbc646d9a9?w=400&q=80',
                            'Platos Principales': 'https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400&q=80',
                            'Carnes': 'https://images.unsplash.com/photo-1558030006-450675393462?w=400&q=80',
                            'Vinos': 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&q=80',
                            'Mariscos': 'https://images.unsplash.com/photo-1559737558-2f5a35f4523e?w=400&q=80',
                            'Postres': 'https://images.unsplash.com/photo-1488477181946-6428a0291777?w=400&q=80',
                            'Bebidas': 'https://images.unsplash.com/photo-1514362545857-3bc16c4c7d1b?w=400&q=80'
                        };
                        const imagenPlato = plato.imagen_url || imagenesPorCategoria[categoria.nombre] || 'https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=400&q=80';

                        platosHTML += `
                            <div class="col-md-6">
                                <div class="plato-item" style="background: ${disponible ? 'white' : '#f8f9fa'}; border-radius: 15px; overflow: hidden; border: 2px solid ${disponible ? 'rgba(212, 175, 55, 0.2)' : '#e9ecef'}; transition: all 0.3s ease; ${disponible ? 'cursor: pointer;' : 'opacity: 0.7;'}"
                                    ${disponible ? `onmouseover="this.style.borderColor='var(--gold-color)'; this.style.transform='translateY(-3px)'; this.style.boxShadow='0 8px 20px rgba(212,175,55,0.3)'" onmouseout="this.style.borderColor='rgba(212, 175, 55, 0.2)'; this.style.transform='translateY(0)'; this.style.boxShadow='none'"` : ''}>
                                    
                                    <!-- Imagen del plato -->
                                    <div style="position: relative; height: 180px; overflow: hidden;">
                                        <img src="${imagenPlato}" alt="${plato.nombre}" 
                                            style="width: 100%; height: 100%; object-fit: cover;">
                                        ${!disponible ? '<div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center;"><span class="badge bg-secondary" style="font-size: 1rem; padding: 10px 20px;">Agotado</span></div>' : ''}
                                        <div style="position: absolute; top: 10px; right: 10px; background: var(--gradient-gold); color: var(--primary-color); padding: 8px 15px; border-radius: 20px; font-weight: 700; font-size: 1rem; box-shadow: 0 4px 10px rgba(212, 175, 55, 0.4);">
                                            $${precio}
                                        </div>
                                    </div>
                                    
                                    <!-- Informaci√≥n del plato -->
                                    <div style="padding: 15px;">
                                        <h6 style="color: var(--primary-color); font-weight: 700; margin-bottom: 8px; font-size: 1rem;">
                                            ${plato.nombre}
                                        </h6>
                                        <p style="color: #666; font-size: 0.85rem; margin-bottom: 8px; line-height: 1.4;">
                                            ${plato.descripcion || 'Delicioso plato de nuestra carta'}
                                        </p>
                                        ${plato.ingredientes_especiales ? `
                                        <p style="color: #999; font-size: 0.75rem; margin-bottom: 8px;">
                                            <i class="bi bi-info-circle"></i> ${plato.ingredientes_especiales}
                                        </p>
                                        ` : ''}
                                        ${plato.tiempo_preparacion ? `
                                        <p style="color: #999; font-size: 0.75rem; margin-bottom: 0;">
                                            <i class="bi bi-clock"></i> ${plato.tiempo_preparacion} min
                                        </p>
                                        ` : ''}
                                    </div>
                                </div>
                            </div>
                        `;
                    });
                    platosHTML += '</div>';
                }

                Swal.fire({
                    title: `<div style="display: flex; align-items: center; justify-content: center; gap: 15px;">
                                <span style="font-size: 2.5rem;">${icono}</span>
                                <span>${categoria.nombre}</span>
                            </div>`,
                    html: `
                        ${categoria.descripcion ? `<p class="text-muted mb-4" style="font-size: 1rem;">${categoria.descripcion}</p>` : ''}
                        ${platosHTML}
                    `,
                    width: '900px',
                    showCloseButton: true,
                    showConfirmButton: false,
                    customClass: {
                        container: 'menu-modal-container',
                        popup: 'menu-modal-popup'
                    },
                    didOpen: () => {
                        // Aplicar estilos al modal
                        const popup = document.querySelector('.menu-modal-popup');
                        if (popup) {
                            popup.style.borderRadius = '25px';
                            popup.style.padding = '30px';
                        }
                    }
                });
            }

            mostrarError() {
                const container = document.getElementById('menuCategorias');
                if (container) {
                    container.innerHTML = `
                        <div class="col-12 text-center py-5">
                            <i class="bi bi-exclamation-triangle" style="font-size: 3rem; color: #ffc107;"></i>
                            <p class="text-muted mt-3">Error al cargar el men√∫. Por favor, intenta de nuevo m√°s tarde.</p>
                        </div>
                    `;
                }
            }
        }

        // Inicializar men√∫ cuando el DOM est√© listo
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => {
                new MenuGastronomico();
            });
        } else {
            new MenuGastronomico();
        }
    </script>
</body>

</html>